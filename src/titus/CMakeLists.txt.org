# Titus build script

# add path to CRN.h
include_directories("${PROJECT_BINARY_DIR}/libcrn")
# add path to libcrn
include_directories("${PROJECT_SOURCE_DIR}/libcrn")
# add path to libgtkcrnmm
include_directories("${PROJECT_SOURCE_DIR}/libgtkcrnmm")
# add path to dependencies
include_directories(${GTKMM_INCLUDE_DIRS})
link_directories(${GTKMM_LIBRARY_DIRS})
include_directories(${GDKPB_INCLUDE_DIRS})
link_directories(${GDKPB_LIBRARY_DIRS})
include_directories(${PNG_INCLUDE_DIRS})
link_directories(${PNG_LIBRARY_DIRS})

# set sources
file(GLOB_RECURSE TITUS_HEADERS "*.h")
source_group("Headers" FILES ${TITUS_HEADERS})
file(GLOB_RECURSE TITUS_SOURCES "*.cpp")
source_group("Sources" FILES ${TITUS_SOURCES})
file(GLOB_RECURSE TITUS_MISC "*.in")
list(APPEND TITUS_MISC "CMakeLists.txt")
source_group("Misc" FILES ${TITUS_MISC})

# create Titus
add_executable(titus titus.cpp)
set_target_properties(titus PROPERTIES COMPILE_FLAGS "${GTKMM_CFLAGS_OTHER}" LINK_FLAGS "${GTKMM_LDFLAGS_OTHER}" OUTPUT_NAME "titus")
# add dependencies
target_link_libraries(titus gtkcrnmm)
if(UNIX)
	target_link_libraries(titus m)
endif(UNIX)

# installation
install(TARGETS titus DESTINATION bin COMPONENT app)
install(FILES "titus.png" DESTINATION ${CRN_DATA_PATH} COMPONENT app)

