# Findgtkcrnmm3
# --------
#
# Findgtkcrnmm3.cmake
#

find_path(GTKCRNMM3_INCLUDE_DIR libgtkcrnmm_config.h
	HINTS
		${LIBCRN_HINTS}/@LIBGTKCRNMM3_INCLUDE_INSTALL@
	PATHS
		/usr/@LIBGTKCRNMM3_INCLUDE_INSTALL@
		/usr/local/@LIBGTKCRNMM3_INCLUDE_INSTALL@
		$ENV{LIBCRN_4_SDK_PATH}/@LIBGTKCRNMM3_INCLUDE_INSTALL@
)

find_path(GTKCRNMM3_COMMON_INCLUDE_DIR GtkCRNMain.h
	HINTS
		${LIBCRN_HINTS}/@LIBGTKCRNMM_INCLUDE_INSTALL@
	PATHS
		/usr/@LIBGTKCRNMM_INCLUDE_INSTALL@
		/usr/local/@LIBGTKCRNMM_INCLUDE_INSTALL@
		$ENV{LIBCRN_4_SDK_PATH}/@LIBGTKCRNMM_INCLUDE_INSTALL@
)

find_library(GTKCRNMM3_LIBRARY NAME libgtkcrnmm3@CRNLIB_EXT@
	HINTS
		${LIBCRN_HINTS}/lib
	PATHS
		/usr/lib
		/usr/local/lib
		$ENV{LIBCRN_4_SDK_PATH}/lib
)

find_library(GTKCRNMM3_LIBRARY_DEBUG NAME libgtkcrnmm3-d@CRNLIB_EXT@
	HINTS
		${LIBCRN_HINTS}/lib
	PATHS
		/usr/lib
		/usr/local/lib
		$ENV{LIBCRN_4_SDK_PATH}/lib
)
if(NOT "${GTKCRNMM3_LIBRARY_DEBUG}" STREQUAL "GTKCRNMM3_LIBRARY_DEBUG-NOTFOUND")
	set(GTKCRNMM3_LIBRARY "optimized;${GTKCRNMM3_LIBRARY};debug;${GTKCRNMM3_LIBRARY_DEBUG}")
endif()

include(FindPackageHandleStandardArgs)
# handle the QUIETLY and REQUIRED arguments and set LIBGTKCRNMM3_FOUND to TRUE
# if all listed variables are TRUE
find_package_handle_standard_args(GTKCRNMM3  DEFAULT_MSG
	GTKCRNMM3_LIBRARY GTKCRNMM3_INCLUDE_DIR GTKCRNMM3_COMMON_INCLUDE_DIR)

find_package(CRN REQUIRED)
find_package(GTK3 3.10 REQUIRED gtk gtkmm)

mark_as_advanced(GTKCRNMM3_INCLUDE_DIR GTKCRNMM3_COMMON_INCLUDE_DIR GTKCRNMM3_LIBRARY)

set(GTKCRNMM3_INCLUDE_DIRS ${CRN_INCLUDE_DIRS} ${GTKCRNMM3_INCLUDE_DIR} ${GTKCRNMM3_COMMON_INCLUDE_DIR} ${GTK3_INCLUDE_DIRS})
set(GTKCRNMM3_LIBRARIES ${GTK3_LIBRARIES} ${CRN_LIBRARIES} ${GTKCRNMM3_LIBRARY})

if(MSVC)
	macro(InstallLibgtkcrnmm3)
		InstallLibcrn()
		install(FILES "$ENV{LIBCRN_4_SDK_PATH}/bin/libgtkcrnmm3.dll" DESTINATION . COMPONENT bin)
		install(DIRECTORY "$ENV{LIBCRN_4_SDK_PATH}/share/crn" DESTINATION share COMPONENT bin)
	endmacro()
endif(MSVC)



