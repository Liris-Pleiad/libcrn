language: cpp

os:
  - linux
  - osx

sudo: required
dist: trusty

compiler:
  - gcc
  - clang

cache: apt # this feature is available only for private repositories

env:
  - BTYPE="-DCMAKE_BUILD_TYPE=Debug"
  - BTYPE="-DCMAKE_BUILD_TYPE=Release"

#------------------------------------------------------------------------------
# matrix details:
#
#   - 2x gcc    under Linux trusty                      (debug and release)
#   - 2x clang  under Linux trusty                      (debug and release)
#
#   - 2x clang  under OS X with Apple LLVM version 6.0  (debug and release)
#   - 2x clang  under OS X with xcode 7.2               (debug and release)
#
#------------------------------------------------------------------------------
matrix:
  fast_finish: true
  include:
    - os: osx
      osx_image: xcode7.2
  exclude:
    - os: osx
      compiler: gcc
    - os: osx
      compiler: gcc
      osx_image: xcode7.2

addons:
  apt:
    packages:
      - graphviz

before install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update          ; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install graphviz; fi
  - cmake --version

script:
  - mkdir build && cd build && cmake .. $BTYPE
  - make
#  - make test